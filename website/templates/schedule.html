{% extends 'base.html' %}

{% block content %}
<div class="fade-in">
    <div class="flex justify-between items-center mb-6">
        <div><h2 class="text-2xl font-bold text-white">Maintenance Calendar</h2></div>
        <button onclick="openModal('2025-12-27')" class="bg-violet-600 hover:bg-violet-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition shadow-lg"><i class="fas fa-plus"></i> Add Event</button>
    </div>

    <div class="glass-panel rounded-xl border border-slate-700 overflow-hidden">
        <div class="grid grid-cols-7 bg-slate-800 border-b border-slate-700 text-center">
            <div class="py-3 text-xs font-semibold text-slate-400 uppercase">Sun</div>
            <div class="py-3 text-xs font-semibold text-slate-400 uppercase">Mon</div>
            <div class="py-3 text-xs font-semibold text-slate-400 uppercase">Tue</div>
            <div class="py-3 text-xs font-semibold text-slate-400 uppercase">Wed</div>
            <div class="py-3 text-xs font-semibold text-slate-400 uppercase">Thu</div>
            <div class="py-3 text-xs font-semibold text-slate-400 uppercase">Fri</div>
            <div class="py-3 text-xs font-semibold text-slate-400 uppercase">Sat</div>
        </div>
        <div class="grid grid-cols-7 bg-slate-900/50 divide-x divide-slate-700 divide-y">
            <div class="calendar-cell bg-slate-900/30 p-2 opacity-50"><span class="text-slate-600 font-medium">30</span></div>
            <div class="calendar-cell p-2"><span class="text-slate-300 font-medium">1</span></div>
            <div class="calendar-cell p-2"><span class="text-slate-300 font-medium">2</span></div>
            <div class="calendar-cell p-2"><span class="text-slate-300 font-medium">3</span></div>
            <div class="calendar-cell p-2"><span class="text-slate-300 font-medium">4</span></div>
            <div class="calendar-cell p-2"><span class="text-slate-300 font-medium">5</span></div>
            <div class="calendar-cell p-2"><span class="text-slate-300 font-medium">6</span></div>
            <div class="calendar-cell p-2 relative group cursor-pointer" onclick="openModal('2025-12-24')">
                <span class="text-slate-300 font-medium">24</span>
                <div class="mt-2 bg-sky-900/40 border border-sky-800 rounded px-2 py-1"><div class="flex items-center gap-2"><div class="w-1.5 h-1.5 rounded-full bg-sky-400"></div><span class="text-[10px] text-sky-200">CNC #3</span></div></div>
            </div>
             <div class="calendar-cell p-2"><span class="text-slate-300 font-medium">25</span></div>
             <div class="calendar-cell p-2"><span class="text-slate-300 font-medium">26</span></div>
             <div class="calendar-cell p-2 bg-slate-800/50 relative group cursor-pointer border border-violet-500/30" onclick="openModal('2025-12-27')">
                <span class="w-6 h-6 bg-violet-600 rounded-full flex items-center justify-center text-white text-xs font-bold">27</span>
                 <div class="mt-2 bg-amber-900/40 border border-amber-800 rounded px-2 py-1"><div class="flex items-center gap-2"><div class="w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"></div><span class="text-[10px] text-amber-200">Oil Leak</span></div></div>
            </div>
        </div>
    </div>
</div>

<div id="requestModal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm">
    <div class="bg-slate-900 rounded-xl border border-slate-700 w-full max-w-lg shadow-2xl p-6">
        <h3 class="text-lg font-bold text-white mb-4">Schedule Maintenance: <span id="modalDateDisplay" class="text-violet-400"></span></h3>
        <input type="text" placeholder="Subject" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-white mb-3">
        <button onclick="document.getElementById('requestModal').classList.add('hidden')" class="px-4 py-2 bg-violet-600 text-white rounded-lg w-full">Save</button>
    </div>
</div>

<script>
    function openModal(date) {
        document.getElementById('requestModal').classList.remove('hidden');
        document.getElementById('modalDateDisplay').innerText = date;
    }
</script>
{% endblock %}